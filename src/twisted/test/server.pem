# coding: utf-8

from inspect import getsource
from datetime import datetime

from OpenSSL.crypto import FILETYPE_PEM, TYPE_RSA, X509, PKey, dump_privatekey, dump_certificate

key = PKey()
key.generate_key(TYPE_RSA, 8192)

cert = X509()
issuer = cert.get_issuer()
subject = cert.get_subject()

for dn in [issuer, subject]:
    dn.C = b"TR"
    dn.ST = "Çorum".encode("utf-8")
    dn.L = "Başmakçı".encode("utf-8")
    dn.CN = b"localhost"
    dn.O = b"Twisted Matrix Labs"
    dn.OU = b"Automated Testing Authority"
    dn.emailAddress = b"security@twistedmatrix.com"

cert.set_serial_number(datetime.now().toordinal())
cert.gmtime_adj_notBefore(0)
cert.gmtime_adj_notAfter(60 * 60 * 24 * 365 * 100)

cert.set_pubkey(key)
cert.sign(key, "sha256")

import __main__
source = getsource(__main__)
source = source.split("\n" + "-" * 5)[0].rsplit("\n", 1)[0]
with open("server.pem", "w") as fObj:
    fObj.write(source)
    fObj.write("\n")
    fObj.write("'''\n")
    fObj.write(dump_privatekey(FILETYPE_PEM, key).decode("ascii"))
    fObj.write(dump_certificate(FILETYPE_PEM, cert).decode("ascii"))
    fObj.write("'''\n")
with open(b"key.pem.no_trailing_newline", "w") as fObj:
    fObj.write(dump_privatekey(FILETYPE_PEM, key).decode("ascii").rstrip('\n'))
with open(b"cert.pem.no_trailing_newline", "w") as fObj:
    fObj.write(dump_certificate(FILETYPE_PEM, cert).decode("ascii").rstrip('\n'))
'''
-----BEGIN PRIVATE KEY-----
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
2m6/TW6icreLM0fyyXS30GabD2AYbEYH
-----END PRIVATE KEY-----
-----BEGIN CERTIFICATE-----
MIIJ6DCCBdACAwtEVTANBgkqhkiG9w0BAQsFADCBtzELMAkGA1UEBhMCVFIxDzAN
BgNVBAgMBsOHb3J1bTEUMBIGA1UEBwwLQmHFn21ha8OnxLExEjAQBgNVBAMMCWxv
Y2FsaG9zdDEcMBoGA1UECgwTVHdpc3RlZCBNYXRyaXggTGFiczEkMCIGA1UECwwb
QXV0b21hdGVkIFRlc3RpbmcgQXV0aG9yaXR5MSkwJwYJKoZIhvcNAQkBFhpzZWN1
cml0eUB0d2lzdGVkbWF0cml4LmNvbTAgFw0yMjA4MjMwNjQyMThaGA8yMTIyMDcz
MDA2NDIxOFowgbcxCzAJBgNVBAYTAlRSMQ8wDQYDVQQIDAbDh29ydW0xFDASBgNV
BAcMC0JhxZ9tYWvDp8SxMRIwEAYDVQQDDAlsb2NhbGhvc3QxHDAaBgNVBAoME1R3
aXN0ZWQgTWF0cml4IExhYnMxJDAiBgNVBAsMG0F1dG9tYXRlZCBUZXN0aW5nIEF1
dGhvcml0eTEpMCcGCSqGSIb3DQEJARYac2VjdXJpdHlAdHdpc3RlZG1hdHJpeC5j
b20wggQiMA0GCSqGSIb3DQEBAQUAA4IEDwAwggQKAoIEAQDn1OfVAMb7hdVSeECr
AE8BkSUZmwDVC/tp7cAjDxVmnC0vR/V3ToU5NDHgpGXb+EOge9IEr1wWo1HONobu
dYNi/Hofedi8ZVc/yHVIRJIQmJwoVZS6cM4AFJ/mDEgj2knSKSTmQ+in1T7+3YTM
1y4z/YgdVKGS7KWQM1Bx7JK82i0i2hjFrOMBh84I02PL5pgoHFFCv+PDfN2g4i5+
RqmSxzFZFs2LAj1sTr0Ui56G62pzuBIOsM5cHhQaGOZIPg3FLez6HT5inoD6DGFz
WtKo//ce4tq+RvDa4oOYbZhmlHzdnd87aWHL2D+xWDUEiB7iFQgocHxky18FMnAM
IaheGK4ekhPf5HJldloNa/Nia0wcD7uAisMjyTKZcWgK/+zwAuNoD3jfMHKV3Wyl
NYFnpB+J8x6qCwsC0l0hpq76oAEV25O7/8IBiEd6rxzKXYSZflfTHOys2oRkdlFG
vH2lmoPdGywDukNN1hgAa9O2L2RizY24guKUgKmQD0FDMRwHd189u1p4dexFyHeU
c3OIGXOtyRxFs8v4nGZLAB4gUxdQuu5H0Sp5Q3hT/kh6yHDX93I/rTaYlQPokkjy
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
-----END CERTIFICATE-----
'''
